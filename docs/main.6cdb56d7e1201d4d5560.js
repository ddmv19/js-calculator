(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.d({},{m:()=>d});var a,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.array=[]}var a,r,n;return a=e,(r=[{key:"sum",value:function(e,t){return e+t}},{key:"subtrack",value:function(e,t){return e-t}},{key:"multiplication",value:function(e,t){return e*t}},{key:"division",value:function(e,t){return e/t}}])&&t(a.prototype,r),n&&t(a,n),Object.defineProperty(a,"prototype",{writable:!1}),e}(),n=document.querySelector("body"),l=document.querySelector("#theme"),o=document.querySelector(".calculator__theme_image-container img"),u=document.querySelector(".calculator__input"),i=document.querySelectorAll(".btn"),c=document.querySelector(".last-operation"),s="";l.addEventListener("click",(function(){n.classList.toggle("darkmode"),l.checked?(o.setAttribute("src","./assets/half-moon.png"),localStorage.setItem("theme","dark")):(o.setAttribute("src","./assets/sun.png"),localStorage.setItem("theme","light"))})),n.addEventListener("keydown",(function(e){var t=e.key,a=e.code;if(a.includes("Digit")||a.includes("Numpad")){var r=u.value[u.value.length-1],n="/"===r||"*"===r||"-"===r||"+"===r;isNaN(t)?isNaN(t)&&u.value.length>0&&!n&&(s+=" "+t+" ",u.value+=t):(s+=t,u.value+=t)}})),i.forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-id"),r=u.value[u.value.length-1],n="/"===r||"*"===r||"-"===r||"+"===r;if("C"===t)u.value="",s="";else if("+/-"===t&&u.value.length>0){var l=u.value,o=parseFloat(l);o-=2*o,u.value=o,s=o+""}else if("="===t&&u.value.length>0){for(d.array=s.split(" ");d.array.length>=2;)a=v(d.array);c.innerText=u.value,u.value=a}else if(t.includes("number")||".."===t){var i=t.charAt(t.length-1);s+=i,u.value+=i}else if(t.includes("operator")&&u.value.length>0&&!n){var f=t.charAt(t.length-1);s+=" "+f+" ",u.value+=f}else if("delete"===t&&u.value.length>0){s="";var h=u.value.split("");h.pop();for(var m=h.join(""),g=0;g<m.length;g++){var p="/"===m[g]||"*"===m[g]||"-"===m[g]||"+"===m[g];s+=p&&g>=2?" "+m[g]+" ":m[g]}u.value=m}}))}));var v=function(e){for(var t=1;t<e.length;t++)if("+"===e[t]||"/"===e[t]||"*"===e[t]||"-"===e[t]){var a=e[t],r=parseFloat(e[t-1]),n=parseFloat(e[t+1]),l=0;return e.shift(),e.shift(),"+"===a?l=d.sum(r,n):"-"===a?l=d.subtrack(r,n):"*"===a?l=d.multiplication(r,n):"/"===a&&(l=d.division(r,n)),e[t-1]=l.toString(),l}},d=new r;"dark"===localStorage.getItem("theme")?(n.classList.add("darkmode"),o.setAttribute("src","./assets/half-moon.png"),l.checked=!0):(n.classList.remove("darkmode"),o.setAttribute("src","./assets/sun.png"),l.checked=!1)})();